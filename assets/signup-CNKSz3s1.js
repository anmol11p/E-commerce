import{b as m,T as o}from"./getCartProductFromLs-DZ0_6J83.js";import"./commonJs-CeZzMC5a.js";const l=async t=>{try{const s=await m.post("https://ecommerce-backend-kdg6.onrender.com/auth/Registration",t);if(s.status===201)return localStorage.setItem("token",s.data.token),"login successfully"}catch(e){switch(e.status){case 400:if(e.response&&e.response.data)return e.response.data.extraDetails&&e.response.data.extraDetails[0]?e.response.data.extraDetails[0]:e.response.data.message;case 409:return e.response.data.message;default:return e.response.data.message}}},d=async t=>{const e=new FormData(t.target),s=e.get("username"),r=e.get("email"),n=e.get("password"),c=e.get("confirmPassword");//!   send data to backend
let a=await l({username:s,email:r,password:n,confirmPassword:c});//! send toast
if(o("signup",a),localStorage.getItem("token")){o("signup",a),setTimeout(()=>{window.location.href="/Ecommerce/"},1500);const i=document.querySelector(".links-header");i.innerHTML=`
    <div className="links-header flex"> <a href="/Ecommerce/" class='logoutBtn'>logout</a>
     </div>`}},u=document.querySelector("#signupForm");u.addEventListener("submit",t=>{t.preventDefault(),d(t)});let g=localStorage.getItem("token");g&&(window.location.href="/Ecommerce/");
